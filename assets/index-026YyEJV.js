(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function d(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=d(t);fetch(t.href,i)}})();const s=document.querySelector("canvas"),e=s==null?void 0:s.getContext("2d"),b=document.querySelectorAll(".tool"),l=document.querySelector("#fill-color"),h=document.querySelector("#size-slider"),S=document.querySelectorAll(".colors .option"),f=document.querySelector("#color-picker"),g=document.querySelector(".clear-canvas"),p=document.querySelector(".save-img");let y=!1,w="brush",k=5,a,u,L,c="#000";function E(){e.fillStyle="#fff",e==null||e.fillRect(0,0,s.width,s.height),e.fillStyle=c}window.addEventListener("load",()=>{s&&setTimeout(()=>{s.width=s.offsetWidth,s.height=s.offsetHeight,E()},300)});function q(r){y=!0,a=r.offsetX,u=r.offsetY,e==null||e.beginPath(),e.strokeStyle=c,e.fillStyle=c,e.lineWidth=k,L=e.getImageData(0,0,s.width,s.height)}function X(){y=!1}function Y(r){const o=a-r.offsetX,d=u-r.offsetY;if(!(l!=null&&l.checked)){e==null||e.strokeRect(r.offsetX,r.offsetY,o,d);return}e==null||e.fillRect(r.offsetX,r.offsetY,o,d)}function P(r){const o=Math.pow(a-r.offsetX,2),d=Math.pow(u-r.offsetY,2),n=Math.sqrt(o+d),t=0,i=2*Math.PI;e==null||e.beginPath(),e==null||e.arc(a,u,n,t,i),e==null||e.stroke(),l!=null&&l.checked?e==null||e.fill():e==null||e.stroke()}function T(r){const o=a*2-r.offsetX;e==null||e.beginPath(),e==null||e.moveTo(a,u),e==null||e.lineTo(r.offsetX,r.offsetY),e==null||e.lineTo(o,r.offsetY),e==null||e.closePath(),l!=null&&l.checked?e==null||e.fill():e==null||e.stroke()}function D(r){e==null||e.beginPath(),e==null||e.moveTo(a,u),e==null||e.lineTo(r.offsetX,r.offsetY),e==null||e.stroke()}function M(r){e==null||e.lineTo(r.offsetX,r.offsetY),e==null||e.stroke()}function R(r){e==null||e.lineTo(r.offsetX,r.offsetY),e.strokeStyle="#fff",e==null||e.stroke()}function O(r){if(y)switch(e==null||e.putImageData(L,0,0),w){case"rectangle":Y(r);break;case"circle":P(r);break;case"triangle":T(r);break;case"line":D(r);break;case"brush":M(r);break;case"eraser":R(r);break;default:return}}for(const r of b)r.addEventListener("click",()=>{var o;(o=document.querySelector(".options .active"))==null||o.classList.remove("active"),r.classList.add("active"),w=r.id});for(const r of S)r.addEventListener("click",()=>{var o;(o=document.querySelector(".options .selected"))==null||o.classList.remove("selected"),r.classList.add("selected"),c=window.getComputedStyle(r).getPropertyValue("background-color")});h==null||h.addEventListener("change",()=>k=parseInt(h.value,10));f==null||f.addEventListener("input",()=>{f.parentElement.style.background=f.value,f.parentElement.click(),f.select(),c=f.value});g==null||g.addEventListener("click",()=>{e==null||e.clearRect(0,0,s.width,s.height)});p==null||p.addEventListener("click",()=>{const r=document.createElement("a");r.href=s.toDataURL(),r.download=`${Date.now()}.jpg`,r.click()});s==null||s.addEventListener("mousedown",q);s==null||s.addEventListener("mouseup",X);s==null||s.addEventListener("mousemove",O);
